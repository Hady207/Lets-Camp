<% include ../partials/header%>
<link rel="stylesheet" type="text/css" href="/stylesheets/signupstyle.css">
<section>
    <div class="jumbotron jumbotron-fluid">
        <div class="container">
            <h1 class="display-4 text-center">Sign Up and Book You Camp Now</h1>
            <p class="lead text-center">Signing up gives you the power to book camps and write your own reviews.</p>

        </div>
    </div>
</section>

<section class="signUP mt-4">
<div class="container">
    <form class="form-signin" action="/profile/<%=user._id%>?_method=PUT" method="POST" autocomplete="off" enctype="multipart/form-data">
        <div class="form-group form-row">
            <div class="col">
                <input type="text" class="form-control" name="firstname" placeholder="First Name" value="<%=user.firstName%>" required>
            </div>
            <div class="col">
                <input type="text" class="form-control" name="lastname" placeholder="Last Name" value="<%=user.lastName%>" required>
            </div>
        </div>
        <div class="form-group">
            <input type="text" class="form-control" name="username" placeholder="Username" value="<%=user.username%>" required>

        </div>
        <div class="form-group">
            <input type="email" class="form-control" name="email" placeholder="Email" value="<%=user.email%>" required>

        </div>
        <div class="form-group ">
            <input type="password" class="form-control" name="password" placeholder="Password" required>
        </div>

        <div class="content"> 
            <input style="opacity:0;" type="file" name="avatar" id="file-2" class="inputfile inputfile-1" data-multiple-caption="{count} files selected"  accept="image/*" />
            <label for="file-2" class="" ><i class="fas fa-upload"></i><span> Upload a profile picture</span></label>
        </div>

        
        <input type="submit" class="btn btn-outline-success" value="Update Profile">
    </form>
</div>
</section>

<script>
'use strict';

;( function ( document, window, index )
{
	var inputs = document.querySelectorAll( '.inputfile' );
	Array.prototype.forEach.call( inputs, function( input )
	{
		var label	 = input.nextElementSibling,
			labelVal = label.innerHTML;

		input.addEventListener( 'change', function( e )
		{
			var fileName = '';
			if( this.files && this.files.length > 1 )
				fileName = ( this.getAttribute( 'data-multiple-caption' ) || '' ).replace( '{count}', this.files.length );
			else
				fileName = e.target.value.split( '\\' ).pop();

			if( fileName )
				label.querySelector( 'span' ).innerHTML = fileName;
			else
				label.innerHTML = labelVal;
		});

		// Firefox bug fix
		input.addEventListener( 'focus', function(){ input.classList.add( 'has-focus' ); });
		input.addEventListener( 'blur', function(){ input.classList.remove( 'has-focus' ); });
	});
}( document, window, 0 ));
</script>
<%# <script src="scripts/custom-file-input.js"></script> %>
<% include ../partials/footer%>