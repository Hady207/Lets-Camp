<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />
  <link href="https://fonts.googleapis.com/css?family=Major+Mono+Display" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Lato:700i" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Oswald:600|Roboto:400,700" rel="stylesheet">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr"
    crossorigin="anonymous">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
    crossorigin="anonymous">
  <link rel="stylesheet" type="text/css" href="/stylesheets/style.css">
  <title>Lets Camp</title>
</head>
<!-- navbar section -->

<body>
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top" style="background:#221e1f">
    <div class="container">
      <a class="navbar-brand" href="/">LetsCamp</a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarTogglerDemo02"
        aria-controls="navbarTogglerDemo02" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="navbarTogglerDemo02">
        <ul class="navbar-nav mr-auto mt-2 mt-lg-0">
       
          <li class="nav-item <%= typeof page !== 'undefined' && page === 'homepage' ? 'active' : '' %>">
            <a class="nav-link " href="/">Home <span class="sr-only">(current)</span></a>
          </li>
          <li class="nav-item <%= typeof page !== 'undefined' && page === 'campgrounds' ? 'active' : '' %>">
            <a class="nav-link" href="/campgrounds">Camp Room</a>
          </li>
          <li class="nav-item <%= typeof page !== 'undefined' && page === 'add' ? 'active' : '' %>">
            <a class="nav-link " href="/campgrounds/new">Add Campground</a>
          </li>
        </ul>
        <!-- <form class="form-inline mx-auto my-2 my-lg-0">
        <input class="form-control mr-sm-2" type="search" placeholder="Search">
        <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
      </form> -->
        <%if(!currentUser){%>
        <a href="/login" class="btn btn-outline-success my-2 my-sm-0 text-white">Login</a>
        <a href="/register" class="btn btn-outline-primary my-2 ml-2 my-sm-0 text-white">Sign Up</a>
        <%}else{%>
        <div class="dropdown">
          <a class="text-white btn btn-outline-secondary dropdown-toggle" href="#" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          <span><img src="<%=currentUser.avatar.url%>"alt="..." class="rounded-circle miniProfile"></span>
            <%=currentUser.firstName%> <%=currentUser.lastName%> 
            <%if(notifications.length >=1 ){%>
                <span class="badge badge-dark"><%= notifications.length %></span>
            <%}%> 
          </a> 

          <div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
          
          <a class="dropdown-item" href="/profile/<%=currentUser.id%>">View Profile</a>
          <div class="dropdown-divider"></div>
            <a class="dropdown-item" href="/notifications">View past notifications</a>
            <% notifications.forEach(function(notification) { %>    
            <a class="dropdown-item" href="/notifications/<%= notification.id %>">
            <%= notification.username %> <%=notification.message%>
            </a>
            <% }); %>
          </div>
        </div>
        <a href="/logout" class="btn btn-outline-danger my-2 ml-2 my-sm-0 text-white">Logout</a>
        <%}%>
      </div>
    </div>
  </nav>

  <section class="bg-dark pb-3">
    <div class="container-fluid bg-dark">
      <p>Hady</p>



    </div>
  </section>

  <%if(error && error.length>0){%>
  <div class="container alert alert-danger my-0 " id="flash" role="alert">
    <%=error%>
  </div>
  <%}%>
  <%if(success && success.length>0){%>
  <div class="container alert alert-success my-0 " id="flash" role="alert">
    <%=success%>
  </div>

  <%}%>